# Enable URL Rewriting
RewriteEngine On

# Redirect all API requests to api/index.php
# Works for both local (subdirectory) and production (root)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/(.*)$ api/index.php [QSA,L]

# CORS Headers are handled in PHP (index.php), not here
